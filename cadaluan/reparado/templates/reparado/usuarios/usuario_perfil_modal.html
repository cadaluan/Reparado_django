<div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasRightLabel">Detalles del Usuario</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
</div>

<div class="offcanvas-body">
    <!-- Imagen del usuario centrada y con estilo de borde redondeado -->
    <div class="text-center mb-3">
        <img src="{{ usuario.foto.url }}" alt="Usuario" class="img-thumbnail rounded-circle shadow" style="width: 150px; height: 150px; object-fit: cover;">
    </div>
    
    <!-- Nombre del usuario con rol -->
    <h4 class="text-center mb-1">{{ usuario.nombre }} {{ usuario.apellido }}</h4>
    <p class="text-center text-muted mb-4">{{ usuario.get_rol_display }}</p>
    
    <!-- Tabla con detalles del usuario -->
    <table class="table table-striped table-bordered">
        <tbody>
            <tr>
                <th scope="row">Fecha de Nacimiento</th>
                <td>{{ usuario.fecha_nacimiento|date:"d/m/Y" }}</td>
            </tr>
            <tr>
                <th scope="row">Estado</th>
                <td>
                    {% if usuario.activo %}
                        <span class="badge bg-success">Activo</span>
                    {% else %}
                        <span class="badge bg-danger">Inactivo</span>
                        <p class="text-muted">Este usuario está actualmente inactivo.</p>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th scope="row">Correo</th>
                <td><a href="mailto:{{ usuario.email }}">{{ usuario.email }}</a></td>
            </tr>
            <tr>
                <th scope="row">Dirección</th>
                <td>{{ usuario.direccion }}</td>
            </tr>
            <tr>
                <th scope="row">Celular</th>
                <td>{{ usuario.telefono }}</td>
            </tr>
        </tbody>
    </table>

    <!-- Botones de acción centrados y estilizados -->
    <div class="d-flex justify-content-center mt-4">
        <a class="btn btn-primary me-2" onclick="modal(`{% url 'cambiar_clave' %}`)">
            <i class="bi bi-lock"></i> Cambiar contraseña
        </a>
        <a onclick="modal(`{% url 'usuarios_editar' usuario.id %}`)" class="btn btn-secondary me-2">
            <i class="bi bi-pencil-square"></i> Editar Perfil
        </a>
        <a href="{% url 'logout' %}" class="btn btn-dark me-2">
            <i class="bi bi-box-arrow-right"></i> Cerrar Sesión
        </a>
    </div>
</div>
